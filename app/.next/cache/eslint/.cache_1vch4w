[{"D:\\projects\\schulshop\\app\\pages\\index.js":"1","D:\\projects\\schulshop\\app\\pages\\_app.js":"2","D:\\projects\\schulshop\\app\\pages\\admin.js":"3","D:\\projects\\schulshop\\app\\pages\\api\\checkout\\create.js":"4","D:\\projects\\schulshop\\app\\pages\\api\\checkout\\update\\[id].js":"5","D:\\projects\\schulshop\\app\\pages\\api\\checkout.js":"6","D:\\projects\\schulshop\\app\\pages\\api\\test.js":"7","D:\\projects\\schulshop\\app\\pages\\checkout\\[id].js":"8","D:\\projects\\schulshop\\app\\pages\\error.js":"9"},{"size":5530,"mtime":1643996454439,"results":"10","hashOfConfig":"11"},{"size":137,"mtime":1642009345487,"results":"12","hashOfConfig":"11"},{"size":312,"mtime":1642704659732,"results":"13","hashOfConfig":"11"},{"size":545,"mtime":1643984860058,"results":"14","hashOfConfig":"11"},{"size":632,"mtime":1643985095466,"results":"15","hashOfConfig":"11"},{"size":1695,"mtime":1643460353221,"results":"16","hashOfConfig":"11"},{"size":408,"mtime":1643462175220,"results":"17","hashOfConfig":"11"},{"size":3474,"mtime":1643998911365,"results":"18","hashOfConfig":"11"},{"size":163,"mtime":1643986664563,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22"},"1w23fkj",{"filePath":"23","messages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\projects\\schulshop\\app\\pages\\index.js",["39","40","41","42","43","44","45"],"import styles from '../styles/Home.module.css'\r\nimport stylesCheckout from '../styles/Checkout.module.css'\r\n\r\nimport Head from 'next/head';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\n\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport Searchbar from '../modules/searchbar'\r\nimport PopupMenu from '../modules/popup_menu'\r\n\r\nexport default function Home({data}) {\r\n\r\n    const [sessionId, setSessionId] = useState(undefined);\r\n\r\n    useEffect(() => {\r\n        fetch(\"/api/checkout/create\")\r\n            .then(res => res.json())\r\n            .then(json => setSessionId(json.sessionId))\r\n            .then(() => console.log(sessionId))\r\n    }, [])\r\n\r\n    const [products, setProducts] = useState([]);\r\n\r\n    const [spamTimer, setSpamTimer] = useState();\r\n\r\n    function addProduct(product) {\r\n        toast('Zum Warenkorb hinzugefÃ¼gt!', {\"theme\": \"dark\", \"icon\": \"ðŸ›’\"});\r\n        const a = products\r\n        a.push(product)\r\n        setProducts(a)\r\n        saveSession()\r\n    }\r\n\r\n    function removeProduct(product) {\r\n        toast('Vom Warenkorb entfernt!', {\"theme\": \"dark\", \"icon\": \"ðŸ›’\"});\r\n        const a = products\r\n        a.pop(product)\r\n        setProducts(a)\r\n        saveSession()\r\n    }\r\n\r\n    function saveSession() {\r\n        if(!sessionId) return;\r\n        clearTimeout(spamTimer)\r\n        setSpamTimer(() => fetch(`/api/checkout/update/${sessionId}`, {\r\n            \"method\": \"PUT\",\r\n            \"body\": JSON.stringify({\r\n                \"products\": products\r\n            })\r\n        }), 2000);\r\n    }\r\n\r\n    return (\r\n        <div className={styles.main}>\r\n            <Head>\r\n                <title>Home | Schulshop</title>\r\n            </Head>\r\n            <div className={styles.header}>\r\n                <div className={styles.menuContainer}>\r\n                    <PopupMenu atElement={false} icon='/icon/shopping_cart.svg' menuStyle={{\"width\": \"20rem\", \"display\": \"flex\", \"flexDirection\": \"column\", \"alignItems\": \"center\", \"borderRadius\": \"1rem\", \"borderWidth\": \"2px\", \"boxShadow\": \"3px 3px 18px 1px rgba(0, 0, 0, 0.18)\"}}>\r\n                        <h3>Warenkorb</h3>\r\n                        <div className={styles.container}>\r\n                            {products.length > 0 ? products.map(product => {\r\n                                return (\r\n                                    <div key={product.id} className={stylesCheckout.item}>\r\n                                        <img src={product.thumbnail} className={stylesCheckout.smallThumbnail}/>\r\n                                        <p className={stylesCheckout.name}>{product.name}</p>\r\n                                        <p className={stylesCheckout.tag}>Preis: <span>{product.price}â‚¬</span></p>\r\n                                        <img className={stylesCheckout.close} draggable={false} src='/icon/close.svg' onClick={() => removeProduct(product)}/>\r\n                                    </div>\r\n                                )\r\n                            }) : <p>leer</p>}\r\n                        </div>\r\n                        {products.length > 0 ? <Link href={`/checkout/${sessionId}`}><a><h3 className={styles.buy}>Kaufen</h3></a></Link>\r\n                        : <h3 className={styles.buy + \" \" + styles.buyBlocked}>Kaufen</h3>}\r\n                    </PopupMenu>\r\n                    <PopupMenu atElement={false} icon='/icon/menu.svg' menuStyle={{\"borderRadius\": \"1rem\", \"borderWidth\": \"2px\", \"boxShadow\": \"3px 3px 18px 1px rgba(0, 0, 0, 0.18)\"}}>\r\n                        <a>Hier</a>\r\n                        <a>kann</a>\r\n                        <a>ihre</a>\r\n                        <a>Werbung</a>\r\n                        <a>stehen!</a>\r\n                    </PopupMenu>\r\n                </div>\r\n                <h1 onClick={() => setTimeout(() => window.open('https://asg-er.de', '_blank').focus(), 600)} className={styles.title}>ASG Schulshop</h1>\r\n                <Searchbar className={styles.searchbar}/>\r\n            </div>\r\n            <div className={styles.gridContainer}>\r\n                <div className={styles.grid}>{data.map(element => {\r\n                    return (\r\n                        <div className={styles.item} key={element.id}>\r\n                            <h3 className={styles.name}>{element.name}</h3>\r\n                            <Image src={element.thumbnail} width='200%' height='200%' alt={element.name}/>\r\n                            <div className={styles.itemFooter}>\r\n                                <p>{element.price}â‚¬</p>\r\n                                <img draggable={false} src='/icon/shopping_cart.svg' onClick={() => addProduct(element)}/>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                })}</div>\r\n            </div>\r\n            <div className={styles.footer}></div>\r\n            <ToastContainer\r\n                position=\"bottom-left\"\r\n                autoClose={2000}\r\n                hideProgressBar\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n                limit={6}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n    \r\nimport database from '../database/index'\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport async function getStaticProps() {\r\n    const db = await database()\r\n    const data = await db.get('products')\r\n    return {\"props\": {data}, \"revalidate\": 10}\r\n}","D:\\projects\\schulshop\\app\\pages\\_app.js",[],"D:\\projects\\schulshop\\app\\pages\\admin.js",[],"D:\\projects\\schulshop\\app\\pages\\api\\checkout\\create.js",[],"D:\\projects\\schulshop\\app\\pages\\api\\checkout\\update\\[id].js",[],"D:\\projects\\schulshop\\app\\pages\\api\\checkout.js",[],"D:\\projects\\schulshop\\app\\pages\\api\\test.js",[],"D:\\projects\\schulshop\\app\\pages\\checkout\\[id].js",["46","47","48","49","50","51","52"],"D:\\projects\\schulshop\\app\\pages\\error.js",[],{"ruleId":"53","severity":1,"message":"54","line":23,"column":8,"nodeType":"55","endLine":23,"endColumn":10,"suggestions":"56"},{"ruleId":"57","severity":1,"message":"58","line":69,"column":41,"nodeType":"59","endLine":69,"endColumn":113},{"ruleId":"60","severity":1,"message":"61","line":69,"column":41,"nodeType":"59","endLine":69,"endColumn":113},{"ruleId":"57","severity":1,"message":"58","line":72,"column":41,"nodeType":"59","endLine":72,"endColumn":159},{"ruleId":"60","severity":1,"message":"61","line":72,"column":41,"nodeType":"59","endLine":72,"endColumn":159},{"ruleId":"57","severity":1,"message":"58","line":99,"column":33,"nodeType":"59","endLine":99,"endColumn":123},{"ruleId":"60","severity":1,"message":"61","line":99,"column":33,"nodeType":"59","endLine":99,"endColumn":123},{"ruleId":"53","severity":1,"message":"62","line":17,"column":8,"nodeType":"55","endLine":17,"endColumn":10,"suggestions":"63"},{"ruleId":"57","severity":1,"message":"58","line":49,"column":33,"nodeType":"59","endLine":49,"endColumn":64},{"ruleId":"60","severity":1,"message":"61","line":49,"column":33,"nodeType":"59","endLine":49,"endColumn":64},{"ruleId":"57","severity":1,"message":"58","line":52,"column":33,"nodeType":"59","endLine":52,"endColumn":143},{"ruleId":"60","severity":1,"message":"61","line":52,"column":33,"nodeType":"59","endLine":52,"endColumn":143},{"ruleId":"57","severity":1,"message":"58","line":59,"column":21,"nodeType":"59","endLine":59,"endColumn":131},{"ruleId":"57","severity":1,"message":"58","line":60,"column":21,"nodeType":"59","endLine":60,"endColumn":142},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'sessionId'. Either include it or remove the dependency array.","ArrayExpression",["64"],"@next/next/no-img-element","Do not use <img>. Use Image from 'next/image' instead. See: https://nextjs.org/docs/messages/no-img-element","JSXOpeningElement","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","React Hook useEffect has a missing dependency: 'products.length'. Either include it or remove the dependency array.",["65"],{"desc":"66","fix":"67"},{"desc":"68","fix":"69"},"Update the dependencies array to be: [sessionId]",{"range":"70","text":"71"},"Update the dependencies array to be: [products.length]",{"range":"72","text":"73"},[725,727],"[sessionId]",[560,562],"[products.length]"]