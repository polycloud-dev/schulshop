(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(8182)}])},8182:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return N},default:function(){return k}});var r=t(5893),a=t(214),i=t.n(a),o=t(1774),s=t.n(o),c=t(9008),l=t(1664),u=t(5675),m=t(782),h=(t(993),t(7294));function d(e){var n=e.className,t=(0,h.useState)(!1),a=t[0],i=t[1];return(0,r.jsxs)("div",{className:n,onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},children:[(0,r.jsx)("input",{spellCheck:"false",onChange:function(e){e.target.value.length>0&&console.log(e.target.value)},className:"focus:outline-none w-full",placeholder:"Suchen"}),(0,r.jsx)("img",{draggable:"false",src:"/icon/search.svg",style:a?{opacity:"1"}:{opacity:"0"}})]})}var f=t(9834),_={zIndex:"99999",transition:"opacity 1s",display:"flex",flexDirection:"column",position:"absolute",width:"fit-content",padding:"1rem",border:"gray solid",backgroundColor:"white"},x={height:"3rem",width:"3rem"};function p(e){var n=e.children,t=e.on,a=e.atElement,i=e.icon,o=e.open,s=e.onOpenChanged,c=e.className,l=e.style,u=e.menuClassName,m=e.menuStyle,d=e.iconClassName,f=e.iconStyle,p=function(e){C(e),"function"===typeof s&&s(e)};i||(i="/icon/menu.svg");var y=j(_,!1===a?j(m,{right:"-2rem"}):m),v=j(f,x),N=(0,h.useState)(!1),k=N[0],C=N[1];return void 0===t&&(t="click"),(0,h.useEffect)((function(){p(o)}),[o]),(0,r.jsxs)("div",{className:c,style:l,children:["string"===typeof i?"hover"===t?(0,r.jsx)("img",{className:d,style:v,draggable:"false",src:i,onClick:function(){k||p(!0)},onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)}}):(0,r.jsx)("img",{className:d,style:v,draggable:"false",src:i,onClick:function(){k||p(!0)}}):{icon:i},k&&n?"click"===t?(0,r.jsx)(g,{className:u,style:y,changeVisible:p,content:n}):(0,r.jsx)(b,{className:u,style:y,content:n}):null]})}function g(e){var n=e.className,t=e.style,a=e.content,i=e.changeVisible;return(0,r.jsx)(f.default,{onOutsideClick:function(){return setTimeout((function(){return i(!1)}),10)},children:(0,r.jsx)(b,{className:n,style:t,content:a})})}function b(e){var n=e.className,t=e.style,a=e.content;return(0,r.jsx)("nav",{className:n,style:t,children:a})}function j(e,n){var t={};return e&&Object.keys(e).forEach((function(n){return t[n]=e[n]})),n&&Object.keys(n).forEach((function(e){return t[e]=n[e]})),t}function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function v(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i=[],o=!0,s=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);o=!0);}catch(c){s=!0,a=c}finally{try{o||null==t.return||t.return()}finally{if(s)throw a}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N=!0;function k(e){var n=e.data,t=function(){o&&(clearTimeout(j),y((function(){return fetch("/api/checkout/update/".concat(o),{method:"PUT",body:JSON.stringify({products:x})})}),2e3))},a=v((0,h.useState)(void 0),2),o=a[0],f=a[1];(0,h.useEffect)((function(){fetch("/api/checkout/create").then((function(e){return e.json()})).then((function(e){return f(e.sessionId)})).then((function(){return console.log(o)}))}),[]);var _=v((0,h.useState)([]),2),x=_[0],g=_[1],b=v((0,h.useState)(),2),j=b[0],y=b[1];return(0,r.jsxs)("div",{className:i().main,children:[(0,r.jsx)(c.default,{children:(0,r.jsx)("title",{children:"Home | Schulshop"})}),(0,r.jsxs)("div",{className:i().header,children:[(0,r.jsxs)("div",{className:i().menuContainer,children:[(0,r.jsxs)(p,{atElement:!1,icon:"/icon/shopping_cart.svg",menuStyle:{width:"20rem",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"1rem",borderWidth:"2px",boxShadow:"3px 3px 18px 1px rgba(0, 0, 0, 0.18)"},children:[(0,r.jsx)("h3",{children:"Warenkorb"}),(0,r.jsx)("div",{className:i().container,children:x.length>0?x.map((function(e){return(0,r.jsxs)("div",{className:s().item,children:[(0,r.jsx)("img",{src:e.thumbnail,className:s().smallThumbnail}),(0,r.jsx)("p",{className:s().name,children:e.name}),(0,r.jsxs)("p",{className:s().tag,children:["Preis: ",(0,r.jsxs)("span",{children:[e.price,"\u20ac"]})]}),(0,r.jsx)("img",{className:s().close,draggable:!1,src:"/icon/close.svg",onClick:function(){return function(e){(0,m.Am)("Vom Warenkorb entfernt!",{theme:"dark",icon:"\ud83d\uded2"});var n=x;n.pop(e),g(n),t()}(e)}})]},e.id)})):(0,r.jsx)("p",{children:"leer"})}),x.length>0?(0,r.jsx)(l.default,{href:"/checkout/".concat(o),children:(0,r.jsx)("a",{children:(0,r.jsx)("h3",{className:i().buy,children:"Kaufen"})})}):(0,r.jsx)("h3",{className:i().buy+" "+i().buyBlocked,children:"Kaufen"})]}),(0,r.jsxs)(p,{atElement:!1,icon:"/icon/menu.svg",menuStyle:{borderRadius:"1rem",borderWidth:"2px",boxShadow:"3px 3px 18px 1px rgba(0, 0, 0, 0.18)"},children:[(0,r.jsx)("a",{children:"Hier"}),(0,r.jsx)("a",{children:"kann"}),(0,r.jsx)("a",{children:"ihre"}),(0,r.jsx)("a",{children:"Werbung"}),(0,r.jsx)("a",{children:"stehen!"})]})]}),(0,r.jsx)("h1",{onClick:function(){return setTimeout((function(){return window.open("https://asg-er.de","_blank").focus()}),600)},className:i().title,children:"ASG Schulshop"}),(0,r.jsx)(d,{className:i().searchbar})]}),(0,r.jsx)("div",{className:i().gridContainer,children:(0,r.jsx)("div",{className:i().grid,children:n.map((function(e){return(0,r.jsxs)("div",{className:i().item,children:[(0,r.jsx)("h3",{className:i().name,children:e.name}),(0,r.jsx)(u.default,{src:e.thumbnail,width:"200%",height:"200%",alt:e.name}),(0,r.jsxs)("div",{className:i().itemFooter,children:[(0,r.jsxs)("p",{children:[e.price,"\u20ac"]}),(0,r.jsx)("img",{draggable:!1,src:"/icon/shopping_cart.svg",onClick:function(){return function(e){(0,m.Am)("Zum Warenkorb hinzugef\xfcgt!",{theme:"dark",icon:"\ud83d\uded2"});var n=x;n.push(e),g(n),t()}(e)}})]})]},e.id)}))})}),(0,r.jsx)("div",{className:i().footer}),(0,r.jsx)(m.Ix,{position:"bottom-left",autoClose:2e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,limit:6})]})}},1774:function(e){e.exports={container:"Checkout_container__HcASy",item:"Checkout_item__AjAhT",smallThumbnail:"Checkout_smallThumbnail__ilRdK",name:"Checkout_name__TsXuO",tag:"Checkout_tag__SAOrr",close:"Checkout_close__LBBIh",center:"Checkout_center__8DZcz",main:"Checkout_main__2bwum",payment:"Checkout_payment__072LZ"}},214:function(e){e.exports={gridContainer:"Home_gridContainer__wVZ_P",item:"Home_item__UrFES",menuContainer:"Home_menuContainer__XR_1e",searchbar:"Home_searchbar__2X21B",header:"Home_header__GCVRv",main:"Home_main__nLjiQ",grid:"Home_grid__GxQ85",add:"Home_add__e9_Zr",name:"Home_name__Je8n6",button:"Home_button__Zs7A2",itemFooter:"Home_itemFooter__DPnbC",title:"Home_title__T09hD",footer:"Home_footer____T7K",buy:"Home_buy__ZvRus",buyBlocked:"Home_buyBlocked__78EPC"}}},function(e){e.O(0,[37,63,774,888,179],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);